# Ralph Progress Log
Started: Fri Feb 20 23:04:27 HST 2026
---

## Iteration 1 — US-001: Terminal Light design foundation
- Replaced JetBrains Mono + IBM Plex Sans with IBM Plex Mono in index.html
- Rewrote all CSS custom properties in app.css to match DESIGN.md palette
- Updated main.jsx: disabled dark algorithm, set colorPrimary=#1a7a4f, borderRadius=0, white backgrounds
- Backend needs Python 3.9 venv: `.venv/bin/python3` (Python 3.14 can't build pydantic-core)
- Frontend needs `npm install` before build (node_modules not in repo)

## Iteration 2 — US-006: Restyle TimeSeriesChart to Terminal Light
- Replaced Ant Segmented with custom `.t-btn` connected button strip (margin-left: -1px trick)
- Chart lines: green solid (primary), amber dashed (secondary), blue solid (tertiary) — matches DESIGN.md
- Gradient fills only for solid lines, not dashed; 8% opacity per spec
- Restructured chart into three sub-sections: `.chart-top` (header), `.chart-body`, `.chart-footer`
- Footer legend uses snake_case asset names + current values, matching design reference
- Recharts end dots: custom `EndDot` component that only renders on last data point index
- Dashed lines get open (stroke-only) end circles, solid lines get filled circles
- Light-themed tooltip replaces dark tooltip — uses CSS classes in app.css
- Removed old `.chart-header`, `.chart-title`, `.chart-controls` CSS classes
- Vite dev server needs explicit `npx vite --port 5173` when `npm run dev` doesn't bind

## Iteration 3 — US-007: Restyle AssetTable with inline readings
- Replaced Ant Table + expandable rows with native HTML table
- Readings shown inline (flex-wrap) directly in the row, not as boxed chips
- METRIC_DISPLAY_NAMES lookup handles special cases (rpm → RPM)
- formatValue() handles thousands with toLocaleString
- Removed Ant Table/Tag imports — bundle dropped ~345 KB
- Status dot uses inline style with STATUS_COLORS map (var(--green) etc.)
- CSS classes match design-reference.html exactly: .asset-table, .a-name, .a-type, .a-status, .readings, .r-item, .r-label, .r-val, .r-unit

### Codebase Patterns
- Backend python: use `.venv/bin/python3` in backend/ dir
- CSS vars defined in :root in app.css — always use var() references
- Ant Design theme tokens in main.jsx ConfigProvider — keep in sync with CSS vars
- Chart line styles defined in `CHART_LINES` array in TimeSeriesChart.jsx
- Custom time buttons use `.t-btn` / `.t-btn.active` classes (not Ant Segmented)
- Chart sections: `.chart-top` (header with border-bottom), `.chart-body` (padded), `.chart-footer` (bg-subtle)
